<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCaV - Система Случайного Выбора</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        @font-face {
            font-family: '8BitOperator';
            src: url('8bitoperator_jve.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
    </style>
</head>
<body>
    <!-- Ambient effects -->
    <div class="ambient-overlay"></div>
    <div class="scanlines"></div>
    <div class="crt-flicker"></div>

    <!-- Decorative elements -->
    <div class="corner-decor top-left">
        <div class="corner-bracket"></div>
        <div class="corner-indicator"></div>
    </div>
    <div class="corner-decor top-right">
        <div class="corner-bracket"></div>
        <div class="corner-indicator"></div>
    </div>
    <div class="corner-decor bottom-left">
        <div class="corner-bracket"></div>
        <div class="corner-indicator"></div>
    </div>
    <div class="corner-decor bottom-right">
        <div class="corner-bracket"></div>
        <div class="corner-indicator"></div>
    </div>

    <!-- Status bar top -->
    <div class="status-bar top">
        <div class="status-indicator recording">
            <span class="rec-dot"></span>
            <span>REC</span>
        </div>
        <div class="status-text">СИСТЕМА СЛУЧАЙНОГО ВЫБОРА // SCaV v2.0</div>
        <div class="status-time" id="currentTime">00:00:00</div>
    </div>

    <!-- Main container -->
    <div class="main-container">
        <!-- Header with player selection -->
        <header class="header">
            <div class="logo-section">
                <div class="logo-frame">
                    <div class="logo-corner tl"></div>
                    <div class="logo-corner tr"></div>
                    <div class="logo-corner bl"></div>
                    <div class="logo-corner br"></div>
                    <h1 class="main-title" data-text="РАНДОМАЙЗЕР">РАНДОМАЙЗЕР</h1>
                </div>
                <div class="subtitle-container">
                    <span class="subtitle-line"></span>
                    <span class="subtitle">Freddy Fazbear's Pizza</span>
                    <span class="subtitle-line"></span>
                </div>
            </div>

            <!-- Player selection buttons -->
            <div class="player-selection" id="playerSelection">
                <div class="section-label">
                    <span class="label-icon">[</span>
                    <span class="label-text">ВЫБОР ОПЕРАТОРА</span>
                    <span class="label-icon">]</span>
                </div>
                <div class="player-buttons" id="playerButtons">
                    <!-- Buttons will be generated by JS -->
                </div>
            </div>
        </header>

        <!-- Route and Stage selection (hidden until player selected) -->
        <div class="controls-row" id="controlsRow" style="display: none;">
            <!-- Route point selector -->
            <div class="control-panel route-panel">
                <div class="panel-header">
                    <span class="panel-indicator"></span>
                    <span class="panel-title">ТОЧКА МАРШРУТА</span>
                </div>
                <div class="panel-content">
                    <div class="custom-select">
                        <select id="routeSelect">
                            <option value="">-- Выберите точку --</option>
                        </select>
                        <div class="select-arrow"></div>
                    </div>
                    <div class="enemy-display" id="enemyDisplay" style="display: none;">
                        <span class="enemy-label">ПРОТИВНИК:</span>
                        <span class="enemy-name" id="enemyName"></span>
                        <span class="enemy-blink"></span>
                    </div>
                </div>
            </div>

            <!-- Stage indicators/buttons -->
            <div class="control-panel stage-panel">
                <div class="panel-header">
                    <span class="panel-indicator"></span>
                    <span class="panel-title">ЭТАП</span>
                </div>
                <div class="stage-buttons">
                    <button class="stage-btn" data-stage="event" id="stageEvent">
                        <span class="stage-number">01</span>
                        <span class="stage-text">СОБЫТИЕ</span>
                        <span class="stage-light"></span>
                    </button>
                    <button class="stage-btn" data-stage="item" id="stageItem">
                        <span class="stage-number">02</span>
                        <span class="stage-text">ПРЕДМЕТ</span>
                        <span class="stage-light"></span>
                    </button>
                    <button class="stage-btn" data-stage="game" id="stageGame">
                        <span class="stage-number">03</span>
                        <span class="stage-text">ИГРА</span>
                        <span class="stage-light"></span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main game area -->
        <div class="game-area" id="gameArea" style="display: none;">
            <!-- Left sidebar - Presets -->
            <aside class="sidebar left-sidebar">
                <div class="sidebar-frame">
                    <div class="frame-corner tl"></div>
                    <div class="frame-corner tr"></div>
                    <div class="frame-corner bl"></div>
                    <div class="frame-corner br"></div>

                    <div class="sidebar-header">
                        <div class="header-indicator"></div>
                        <h3>ПРЕСЕТЫ</h3>
                    </div>

                    <div class="preset-container">
                        <div class="preset-group">
                            <label>
                                <span class="preset-icon">></span>
                                Событие:
                            </label>
                            <select id="eventPreset" class="preset-select">
                                <option value="default">Стандарт</option>
                            </select>
                        </div>

                        <div class="preset-group">
                            <label>
                                <span class="preset-icon">></span>
                                Предмет:
                            </label>
                            <select id="itemPreset" class="preset-select">
                                <option value="default">Стандарт</option>
                            </select>
                        </div>

                        <div class="preset-group">
                            <label>
                                <span class="preset-icon">></span>
                                Игра:
                            </label>
                            <select id="gamePreset" class="preset-select">
                                <option value="default">По противнику</option>
                            </select>
                        </div>

                        <button class="btn btn-preset" id="applyPresets">
                            <span class="btn-bracket">[</span>
                            ПРИМЕНИТЬ
                            <span class="btn-bracket">]</span>
                        </button>
                    </div>

                    <div class="session-info" id="sessionInfo">
                        <div class="info-header">
                            <span class="info-icon">■</span>
                            СЕССИЯ
                        </div>
                        <div class="info-grid">
                            <div class="info-row">
                                <span class="info-label">Оператор</span>
                                <span class="info-value" id="infoPlayer">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Точка</span>
                                <span class="info-value" id="infoPoint">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Враг</span>
                                <span class="info-value" id="infoEnemy">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Режим</span>
                                <span class="info-value" id="infoMode">Авто</span>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Center - Wheel -->
            <main class="wheel-section">
                <div class="wheel-container">
                    <div class="wheel-frame">
                        <!-- Corner bolts -->
                        <div class="wheel-bolt top-left"></div>
                        <div class="wheel-bolt top-right"></div>
                        <div class="wheel-bolt bottom-left"></div>
                        <div class="wheel-bolt bottom-right"></div>

                        <!-- Tech lines -->
                        <div class="tech-line horizontal top"></div>
                        <div class="tech-line horizontal bottom"></div>
                        <div class="tech-line vertical left"></div>
                        <div class="tech-line vertical right"></div>

                        <!-- Wheel ring decorations -->
                        <div class="wheel-ring outer"></div>
                        <div class="wheel-ring middle"></div>
                        <div class="wheel-ring inner"></div>

                        <div class="wheel-pointer">
                            <div class="pointer-housing">
                                <div class="pointer-arrow"></div>
                                <div class="pointer-light"></div>
                            </div>
                        </div>

                        <canvas id="wheelCanvas" width="420" height="420"></canvas>

                        <div class="wheel-center">
                            <div class="center-ring outer"></div>
                            <div class="center-ring inner"></div>
                            <div class="center-logo">
                                <span class="logo-text">SCaV</span>
                            </div>
                        </div>

                        <!-- LED indicators around wheel -->
                        <div class="led-ring">
                            <div class="led" style="--i: 0"></div>
                            <div class="led" style="--i: 1"></div>
                            <div class="led" style="--i: 2"></div>
                            <div class="led" style="--i: 3"></div>
                            <div class="led" style="--i: 4"></div>
                            <div class="led" style="--i: 5"></div>
                            <div class="led" style="--i: 6"></div>
                            <div class="led" style="--i: 7"></div>
                            <div class="led" style="--i: 8"></div>
                            <div class="led" style="--i: 9"></div>
                            <div class="led" style="--i: 10"></div>
                            <div class="led" style="--i: 11"></div>
                        </div>
                    </div>
                </div>

                <!-- Result display -->
                <div class="result-display" id="resultDisplay" style="display: none;">
                    <div class="result-frame">
                        <div class="result-header">
                            <span class="result-icon">◆</span>
                            РЕЗУЛЬТАТ
                            <span class="result-icon">◆</span>
                        </div>
                        <div class="result-content">
                            <h3 class="result-title" id="resultTitle"></h3>
                            <p class="result-description" id="resultDescription"></p>
                            <p class="result-extra" id="resultExtra"></p>
                        </div>
                    </div>
                </div>

                <!-- Spin button / Game status panel -->
                <div class="action-panel">
                    <button class="btn btn-spin" id="spinBtn" disabled>
                        <span class="btn-inner">
                            <span class="spin-icon">◉</span>
                            <span class="btn-text">ЗАПУСК</span>
                        </span>
                        <span class="btn-glow"></span>
                    </button>

                    <!-- Game status panel (hidden until game stage completes) -->
                    <div class="game-status-panel" id="gameStatusPanel" style="display: none;">
                        <div class="status-header">
                            <span class="status-icon">▶</span>
                            СТАТУС ИГРЫ
                        </div>
                        <div class="status-game-info">
                            <span class="current-game" id="currentGameDisplay"></span>
                        </div>
                        <div class="status-buttons">
                            <button class="btn btn-complete" id="btnComplete">
                                <span class="btn-icon">✓</span>
                                <span>ПРОЙДЕНО</span>
                            </button>
                            <button class="btn btn-reroll" id="btnReroll">
                                <span class="btn-icon">↻</span>
                                <span>РЕРОЛЛ</span>
                            </button>
                            <button class="btn btn-drop" id="btnDrop">
                                <span class="btn-icon">✕</span>
                                <span>ДРОП</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sending indicator -->
                <div class="sending-indicator" id="sendingIndicator" style="display: none;">
                    <div class="sending-spinner"></div>
                    <span>Отправка данных...</span>
                </div>

                <!-- Message display -->
                <div class="message-display" id="messageDisplay" style="display: none;">
                    <span class="message-text" id="messageText"></span>
                </div>
            </main>

            <!-- Right sidebar - Legend & Log -->
            <aside class="sidebar right-sidebar">
                <div class="sidebar-frame">
                    <div class="frame-corner tl"></div>
                    <div class="frame-corner tr"></div>
                    <div class="frame-corner bl"></div>
                    <div class="frame-corner br"></div>

                    <div class="sidebar-header">
                        <div class="header-indicator"></div>
                        <h3>ШАНСЫ</h3>
                    </div>

                    <div class="legend-container" id="legendContainer">
                        <p class="legend-empty">Выберите этап для просмотра</p>
                    </div>

                    <div class="sidebar-header log-header">
                        <div class="header-indicator"></div>
                        <h3>ЖУРНАЛ</h3>
                        <button class="btn btn-small" id="clearLog">ОЧИСТИТЬ</button>
                    </div>

                    <div class="log-container" id="logContainer">
                        <div class="log-empty">Нет записей</div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <span class="footer-line"></span>
                </div>
                <span class="copyright">FAZBEAR ENTERTAINMENT // 1987</span>
                <div class="footer-right">
                    <span class="footer-line"></span>
                </div>
            </div>
            <button class="btn btn-reset" id="resetBtn" style="display: none;">
                <span class="reset-icon">⟲</span>
                СБРОС СЕССИИ
            </button>
        </footer>
    </div>

    <!-- Status bar bottom -->
    <div class="status-bar bottom">
        <div class="status-cam">CAM 01</div>
        <div class="status-indicators">
            <span class="indicator active"></span>
            <span class="indicator active"></span>
            <span class="indicator"></span>
            <span class="indicator active"></span>
        </div>
        <div class="status-date" id="currentDate">01.01.1987</div>
    </div>

    <!-- Notification popup -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <span class="notification-icon">⚡</span>
            <span class="notification-text" id="notificationText"></span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
