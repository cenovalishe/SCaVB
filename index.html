<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FNAF Randomizer - Freddy Fazbear's Wheel of Fortune</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Special+Elite&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Ambient effects -->
    <div class="ambient-overlay"></div>
    <div class="scanlines"></div>
    <div class="vignette"></div>
    <div class="flicker-overlay"></div>

    <!-- Main container -->
    <div class="main-container">
        <!-- Header with player selection -->
        <header class="header">
            <div class="logo">
                <h1 class="glitch" data-text="RANDOMIZER">RANDOMIZER</h1>
                <span class="subtitle">Freddy Fazbear's Pizza</span>
            </div>

            <!-- Player selection buttons -->
            <div class="player-selection" id="playerSelection">
                <span class="label">SELECT PLAYER:</span>
                <div class="player-buttons" id="playerButtons">
                    <!-- Buttons will be generated by JS -->
                </div>
            </div>
        </header>

        <!-- Route and Stage selection (hidden until player selected) -->
        <div class="controls-row" id="controlsRow" style="display: none;">
            <!-- Route point selector -->
            <div class="route-selector">
                <label for="routeSelect">ROUTE POINT:</label>
                <div class="custom-select">
                    <select id="routeSelect">
                        <option value="">-- Select Point --</option>
                    </select>
                    <div class="select-arrow"></div>
                </div>
                <div class="enemy-display" id="enemyDisplay" style="display: none;">
                    <span class="enemy-label">ENEMY:</span>
                    <span class="enemy-name" id="enemyName"></span>
                </div>
            </div>

            <!-- Stage indicators/buttons -->
            <div class="stage-selector">
                <span class="label">STAGE:</span>
                <div class="stage-buttons">
                    <button class="stage-btn" data-stage="event" id="stageEvent">
                        <span class="stage-icon">1</span>
                        <span class="stage-text">EVENT</span>
                    </button>
                    <button class="stage-btn" data-stage="item" id="stageItem">
                        <span class="stage-icon">2</span>
                        <span class="stage-text">ITEM</span>
                    </button>
                    <button class="stage-btn" data-stage="game" id="stageGame">
                        <span class="stage-icon">3</span>
                        <span class="stage-text">GAME</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main game area -->
        <div class="game-area" id="gameArea" style="display: none;">
            <!-- Left sidebar - Presets -->
            <aside class="sidebar left-sidebar">
                <div class="sidebar-header">
                    <h3>PRESETS</h3>
                    <div class="decorative-line"></div>
                </div>

                <div class="preset-group">
                    <label>Event Preset:</label>
                    <select id="eventPreset" class="preset-select">
                        <option value="default">Default</option>
                    </select>
                </div>

                <div class="preset-group">
                    <label>Item Preset:</label>
                    <select id="itemPreset" class="preset-select">
                        <option value="default">Default</option>
                    </select>
                </div>

                <div class="preset-group">
                    <label>Game Preset:</label>
                    <select id="gamePreset" class="preset-select">
                        <option value="default">Default (Enemy)</option>
                    </select>
                </div>

                <button class="btn btn-secondary" id="applyPresets">APPLY PRESETS</button>

                <div class="session-info" id="sessionInfo">
                    <div class="decorative-line"></div>
                    <h4>SESSION</h4>
                    <div class="info-row">
                        <span>Player:</span>
                        <span id="infoPlayer">-</span>
                    </div>
                    <div class="info-row">
                        <span>Point:</span>
                        <span id="infoPoint">-</span>
                    </div>
                    <div class="info-row">
                        <span>Enemy:</span>
                        <span id="infoEnemy">-</span>
                    </div>
                    <div class="info-row">
                        <span>Mode:</span>
                        <span id="infoMode">Auto</span>
                    </div>
                </div>
            </aside>

            <!-- Center - Wheel -->
            <main class="wheel-container">
                <div class="wheel-frame">
                    <div class="wheel-decoration top-left"></div>
                    <div class="wheel-decoration top-right"></div>
                    <div class="wheel-decoration bottom-left"></div>
                    <div class="wheel-decoration bottom-right"></div>

                    <div class="wheel-pointer">
                        <div class="pointer-arrow"></div>
                    </div>

                    <canvas id="wheelCanvas" width="500" height="500"></canvas>

                    <div class="wheel-center">
                        <div class="center-logo">
                            <span class="freddy-icon">F</span>
                        </div>
                    </div>
                </div>

                <!-- Result display -->
                <div class="result-display" id="resultDisplay" style="display: none;">
                    <div class="result-content">
                        <h3 class="result-title" id="resultTitle"></h3>
                        <p class="result-description" id="resultDescription"></p>
                        <p class="result-extra" id="resultExtra"></p>
                    </div>
                </div>

                <!-- Spin button / Game status panel -->
                <div class="action-panel">
                    <button class="btn btn-spin" id="spinBtn" disabled>
                        <span class="btn-text">SPIN</span>
                        <span class="btn-glow"></span>
                    </button>

                    <!-- Game status panel (hidden until game stage completes) -->
                    <div class="game-status-panel" id="gameStatusPanel" style="display: none;">
                        <h4>GAME STATUS</h4>
                        <div class="status-game-info">
                            <span class="current-game" id="currentGameDisplay"></span>
                        </div>
                        <div class="status-buttons">
                            <button class="btn btn-complete" id="btnComplete">
                                <span>COMPLETE</span>
                            </button>
                            <button class="btn btn-reroll" id="btnReroll">
                                <span>REROLL</span>
                            </button>
                            <button class="btn btn-drop" id="btnDrop">
                                <span>DROP</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sending indicator -->
                <div class="sending-indicator" id="sendingIndicator" style="display: none;">
                    <div class="sending-spinner"></div>
                    <span>Sending data...</span>
                </div>

                <!-- Message display -->
                <div class="message-display" id="messageDisplay" style="display: none;">
                    <span class="message-text" id="messageText"></span>
                </div>
            </main>

            <!-- Right sidebar - Legend & Log -->
            <aside class="sidebar right-sidebar">
                <div class="sidebar-header">
                    <h3>CHANCES</h3>
                    <div class="decorative-line"></div>
                </div>

                <div class="legend-container" id="legendContainer">
                    <p class="legend-empty">Select a stage to view chances</p>
                </div>

                <div class="sidebar-header">
                    <h3>LOG</h3>
                    <button class="btn btn-small" id="clearLog">CLEAR</button>
                </div>

                <div class="log-container" id="logContainer">
                    <div class="log-empty">No spins yet</div>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <span class="copyright">Fazbear Entertainment 1987</span>
                <button class="btn btn-reset" id="resetBtn" style="display: none;">RESET SESSION</button>
            </div>
        </footer>
    </div>

    <!-- Notification popup -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <span class="notification-icon"></span>
            <span class="notification-text" id="notificationText"></span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
